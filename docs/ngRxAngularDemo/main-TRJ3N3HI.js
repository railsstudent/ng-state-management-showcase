import{a as b,b as Q,c as G,d as W,e as Y,f as Z,g as P,h as q,i as z,j as J,k as K,l as tt}from"./chunk-IF6OZ2HY.js";import{Bb as V,Hb as X,I as d,La as y,N as h,Na as U,Pa as E,Q as C,Sa as p,Ta as n,Ua as _,W as a,Ya as c,Z as g,db as v,ea as A,eb as N,gb as F,hb as R,ia as M,k as w,lb as O,m as f,ma as L,pb as H,q as B,r as u,x as k,y as m,ya as D,z as j}from"./chunk-UWJZMJWC.js";var et=[{path:"products",loadComponent:()=>import("./chunk-7OCSB2QD.js").then(t=>t.ProductCatalogueComponent),title:"Product list"},{path:"products/:id",loadComponent:()=>import("./chunk-U7BU3CKV.js").then(t=>t.ProductDetailsComponent),title:"Product"},{path:"my-cart",loadComponent:()=>import("./chunk-U4IKRLZL.js").then(t=>t.CartComponent),title:"My shopping cart"},{path:"categories/:category",loadComponent:()=>import("./chunk-7TKYJAM4.js").then(t=>t.CategoryProductsComponent),title:"Category"},{path:"",pathMatch:"full",redirectTo:"products"},{path:"**",redirectTo:"products"}];var ot="https://fakestoreapi.com/products",pt="https://gist.githubusercontent.com/railsstudent/ae150ae2b14abb207f131596e8b283c3/raw/131a6b3a51dfb4d848b75980bfe3443b1665704b/featured-products.json",T=(()=>{let e=class e{constructor(){this.httpClient=a(b),this.featuredProductIds$=this.httpClient.get(pt).pipe(d(3),u(({ids:o})=>o),m(o=>(console.error(o),f([])))),this.products$=this.httpClient.get(ot).pipe(d(3),m(o=>(console.error(o),f([]))))}getProduct(o){if(!o)return Promise.resolve(null);let r=this.httpClient.get(`${ot}/${o}`).pipe(d(3),m(i=>(console.error(i),f(null))));return B(r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rt=(()=>{let e=class e extends P{constructor(){super(...arguments),this.title=a(W),this.productService=a(T)}updateTitle(o){let r=this.buildTitle(o)||"",i=o.root.firstChild?.params.id||"";i?this.productService.getProduct(i).then(I=>{let x=I?.title||"";this.title.setTitle(`Product - ${x}`)}):this.title.setTitle(r)}};e.\u0275fac=(()=>{let o;return function(i){return(o||(o=M(e)))(i||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function ct(t,e,s,o){let r="https://fakestoreapi.com/products/categories";return()=>{t.get(r).pipe(d(3),j(o.products$,o.featuredProductIds$),h(([l,I,x])=>{s.updateCategoryInfo({products:I,featuredProductIds:x,categories:l})}),X(e),m(l=>(s.updateCategoryInfo({products:[],featuredProductIds:[],categories:[]}),console.error(l),w))).subscribe()}}var it={providers:[Q(),J(et,K()),{provide:P,useClass:rt},{provide:O,multi:!0,deps:[b,L,tt,T],useFactory:(t,e,s,o)=>ct(t,e,s,o)}]};var S=(...t)=>{A(S);let e=a(q),s=a(H);return e.events.pipe(k(o=>o instanceof Y),u(o=>o),u(({url:o,urlAfterRedirects:r})=>!t.includes(o)&&!t.includes(r)),h(()=>s.markForCheck()))};var st=()=>["my-cart"];function mt(t,e){t&1&&(p(0,"a",0),c(1,"Home"),n())}function dt(t,e){t&1&&(p(0,"span"),c(1,"\xA0"),n())}function ut(t,e){t&1&&(p(0,"a",1),c(1,"View Cart"),n()),t&2&&U("routerLink",N(1,st))}function lt(t,e){t&1&&(p(0,"span"),c(1,"\xA0"),n())}var nt=(()=>{let e=class e{constructor(){this.isShowHomeButton$=S("/","/products"),this.isShowViewCartButton$=S("/my-cart")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-nav-bar"]],standalone:!0,features:[v],decls:7,vars:6,consts:[["routerLink","/"],[3,"routerLink"]],template:function(r,i){r&1&&(p(0,"div"),y(1,mt,2,0,"a",0),F(2,"async"),y(3,dt,2,0)(4,ut,2,2,"a",1),F(5,"async"),y(6,lt,2,0),n()),r&2&&(D(),E(1,R(2,2,i.isShowHomeButton$)?1:3),D(3),E(4,R(5,4,i.isShowViewCartButton$)?4:6))},dependencies:[z,V],styles:["div[_ngcontent-%COMP%]{background:#daa520;height:50px;padding:.25rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center}"],changeDetection:0});let t=e;return t})();var at=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=g({type:e,selectors:[["app-root"]],standalone:!0,features:[v],decls:5,vars:0,template:function(r,i){r&1&&(p(0,"div")(1,"h2"),c(2,"RxAngular/state Demo"),n(),_(3,"app-nav-bar")(4,"router-outlet"),n())},dependencies:[Z,nt],styles:["div[_ngcontent-%COMP%]{padding:.75rem}h2[_ngcontent-%COMP%]{margin-bottom:.75rem}"],changeDetection:0});let t=e;return t})();G(at,it).catch(t=>console.error(t));

import{a as K}from"./chunk-CJSRHG64.js";import{a as G}from"./chunk-2OBQG36U.js";import{a as U,b as H,c as V,d as Q,e as W,f as Y,g as C,h as Z,i as q,j as z,k as J,l as X}from"./chunk-XWBFBSEG.js";import{A as R,Eb as O,J as P,Ma as l,O as d,Oa as A,Qa as x,R as k,Ta as p,Ua as n,Va as L,X as a,Za as s,_ as u,eb as f,fa as w,fb as N,hb as D,ib as I,ja as _,l as B,mb as j,n as E,na as M,qb as $,s as v,y as F,z as S,za as T}from"./chunk-B6SZTSEB.js";var tt=[{path:"products",loadComponent:()=>import("./chunk-K2MAEU4P.js").then(t=>t.ProductCatalogueComponent),title:"Product list"},{path:"products/:id",loadComponent:()=>import("./chunk-I6ZEVLOL.js").then(t=>t.ProductDetailsComponent),title:"Product"},{path:"my-cart",loadComponent:()=>import("./chunk-XLZ3XODM.js").then(t=>t.CartComponent),title:"My shopping cart"},{path:"categories/:category",loadComponent:()=>import("./chunk-5OAUSCTH.js").then(t=>t.CategoryProductsComponent),title:"Category"},{path:"",pathMatch:"full",redirectTo:"products"},{path:"**",redirectTo:"products"}];var ot=(()=>{let e=class e extends C{constructor(){super(...arguments),this.title=a(Q),this.productService=a(K)}updateTitle(r){let o=this.buildTitle(r)||"",i=r.root.firstChild?.params.id||"";i?this.productService.getProduct(i).then(m=>{let y=m?.title||"";this.title.setTitle(`Product - ${y}`)}):this.title.setTitle(o)}};e.\u0275fac=(()=>{let r;return function(i){return(r||(r=_(e)))(i||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function st(t,e){let h="https://fakestoreapi.com/products",r="https://fakestoreapi.com/products/categories",o=a(X);return()=>{t.get(r).pipe(P(3),R(t.get(h).pipe(P(3),S(c=>(console.error(c),E([]))))),d(([c,m])=>{o.updateCategories(c),o.updateProducts(m);let y=c.reduce((at,b)=>{let pt=m.filter(ct=>ct.category===b);return at.concat({category:b,products:pt})},[]);o.updateCategoryProducts(y)}),G(e),S(c=>(console.error(c),o.updateCategories([]),o.updateProducts([]),o.updateCategoryProducts([]),B))).subscribe()}}var rt={providers:[H(),z(tt,J()),{provide:C,useClass:ot},{provide:j,multi:!0,deps:[U,M],useFactory:(t,e)=>st(t,e)}]};var g=(...t)=>{w(g);let e=a(Z),h=a($);return e.events.pipe(F(r=>r instanceof W),v(r=>r),v(({url:r,urlAfterRedirects:o})=>!t.includes(r)&&!t.includes(o)),d(()=>h.markForCheck()))};var mt=()=>["my-cart"];function dt(t,e){t&1&&(p(0,"a",0),s(1,"Home"),n())}function ut(t,e){t&1&&(p(0,"span"),s(1,"\xA0"),n())}function lt(t,e){t&1&&(p(0,"a",1),s(1,"View Cart"),n()),t&2&&A("routerLink",N(1,mt))}function ft(t,e){t&1&&(p(0,"span"),s(1,"\xA0"),n())}var it=(()=>{let e=class e{constructor(){this.isShowHomeButton$=g("/","/products"),this.isShowViewCartButton$=g("/my-cart")}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-nav-bar"]],standalone:!0,features:[f],decls:7,vars:6,consts:[["routerLink","/"],[3,"routerLink"]],template:function(o,i){o&1&&(p(0,"div"),l(1,dt,2,0,"a",0),D(2,"async"),l(3,ut,2,0)(4,lt,2,2,"a",1),D(5,"async"),l(6,ft,2,0),n()),o&2&&(T(),x(1,I(2,2,i.isShowHomeButton$)?1:3),T(3),x(4,I(5,4,i.isShowViewCartButton$)?4:6))},dependencies:[q,O],styles:["div[_ngcontent-%COMP%]{background:#daa520;height:50px;padding:.25rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center}"],changeDetection:0});let t=e;return t})();var nt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=u({type:e,selectors:[["app-root"]],standalone:!0,features:[f],decls:5,vars:0,template:function(o,i){o&1&&(p(0,"div")(1,"h2"),s(2,"NgRx Signal Store Store Demo"),n(),L(3,"app-nav-bar")(4,"router-outlet"),n())},dependencies:[Y,it],styles:["div[_ngcontent-%COMP%]{padding:.75rem}h2[_ngcontent-%COMP%]{margin-bottom:.75rem}"],changeDetection:0});let t=e;return t})();V(nt,rt).catch(t=>console.error(t));
